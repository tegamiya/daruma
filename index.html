<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>担々麺だるま｜公式サイト</title>
  <meta name="description" content="担々麺だるまの公式サイト。赤・黒の担々麺、辛さ（1〜5）調整可。西鉄下大利駅徒歩1分。営業時間・メニュー・アクセスはこちら。" />
  <link rel="canonical" href="https://your-name.github.io/your-repo/" />
  <meta property="og:title" content="担々麺だるま｜公式サイト" />
  <meta property="og:description" content="胡麻の香り高い担々麺、辛さが選べる人気店。アクセス・メニュー・営業時間はこちら。" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://images.unsplash.com/photo-1617093727343-374698792f0b?q=80&w=1200&auto=format&fit=crop" />
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:site_name" content="担々麺 だるま" />
  <meta name="format-detection" content="telephone=no" />
  <!-- 検索除け -->
  <meta name="robots" content="noindex, nofollow">
  <meta name="theme-color" content="#0b0b0b" />

  <!-- 分離したCSS -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- 構造化データ -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Restaurant",
    "name": "担々麺だるま",
    "servesCuisine": "Chinese",
    "address": {"@type": "PostalAddress", "addressLocality": "大野城市", "streetAddress": "下大利1-15-14", "postalCode": "816-0952"},
    "url": "https://your-name.github.io/your-repo/",
    "priceRange": "¥¥",
    "image": [
      "https://images.unsplash.com/photo-1617093727343-374698792f0b?q=80&w=1200&auto=format&fit=crop"
    ]
  }
  </script>
</head>
<body>
  <!-- Soft Gate -->
  <div id="gate" class="gate hidden" aria-modal="true" role="dialog" aria-labelledby="gateTitle" aria-describedby="gateDesc">
    <span id="gateTitle" class="sr-only">閲覧パスワード</span>
    <span id="gateDesc" class="sr-only">一時的に公開を制限しています。</span>
    <form id="gateForm" class="panel" autocomplete="off">
      <h3 style="margin:0 0 .5rem">閲覧パスワード</h3>
      <p class="muted" style="margin:0 0 .8rem">一時的に公開を制限しています。</p>
      <label for="pw" class="muted">Password</label>
      <input type="password" id="pw" required>
      <button class="btn btn-primary" type="submit" style="width:100%;margin-top:.8rem">入る</button>
    </form>
  </div>

  <div class="accent-bar" aria-hidden="true"></div>
  <div id="progress"></div>
  <a href="#main" class="pill skip-link">本文へスキップ</a>

  <!-- Header / Navigation -->
  <header>
    <div class="container nav">
      <div class="brand">
        <img class="logo" src="img/daruma.png" alt="" aria-hidden="true" width="34" height="34" loading="lazy" decoding="async" />
        <h1><a href="#main" class="home-link" aria-label="トップへ戻る">担々麺だるま</a></h1>
      </div>
      <nav aria-label="主要メニュー">
        <div class="links">
          <a href="#about">店舗情報</a>
          <a href="#menu">メニュー</a>
          <a href="#photos">写真</a>
          <a href="#access">地図・アクセス</a>
          <a href="#contact">お問い合わせ</a>
        </div>
        <details role="list">
          <summary aria-label="メニュー">☰ メニュー</summary>
          <div class="menu" onClick="this.parentElement.removeAttribute('open')">
            <a href="#about">店舗情報</a>
            <a href="#menu">メニュー</a>
            <a href="#photos">写真</a>
            <a href="#access">地図・アクセス</a>
            <a href="#contact">お問い合わせ</a>
          </div>
        </details>
        <button id="toggleFlash" class="btn btn-outline" aria-pressed="true" title="見た目を派手にする/抑える">派手モード：ON</button>
      </nav>
    </div>
  </header>

  <div class="marquee" aria-label="お知らせ">
    <div class="track">🌶️ 辛さ1〜5で調整OK ・ 西鉄下大利駅 徒歩1分 ・ 駐車場1台（近隣コインPあり） ・ 営業 11:00–14:30 / 17:00–23:30 ・ Instagram @tantanmendaruma 　　🌶️ 辛さ1〜5で調整OK ・ 西鉄下大利駅 徒歩1分 ・ 駐車場1台（近隣コインPあり） ・ 営業 11:00–14:30 / 17:00–23:30 ・ Instagram @tantanmendaruma</div>
  </div>

  <!-- Hero -->
  <main id="main" tabindex="-1">
  <section class="hero">
    <div class="container hero-grid">
      <div>
        <span class="pill badge">赤・黒の看板担々麺</span>
        <h2 class="title">濃厚ごま×辣油。<br/>赤と黒、好みで選べる担々麺。</h2>
        <p class="sub">辛さは <strong>1〜5</strong> 段階で調整可。西鉄下大利駅徒歩1分（最新情報はInstagramへ）</p>
        <div class="cta">
          <a class="btn btn-primary" href="#menu">人気メニューを見る</a>
          <a class="btn btn-outline" href="#access">アクセスを見る</a>
        </div>
      </div>
      <div>
        <img class="kv" src="img/tantanmen.jpg" alt="湯気の立つ担々麺の写真" fetchpriority="high" decoding="async" width="1600" height="900" />
      </div>
    </div>
  </section>

  <div class="wave" aria-hidden="true">
    <svg viewBox="0 0 1440 120" preserveAspectRatio="none" aria-hidden="true">
      <path d="M0,40 C240,120 480,0 720,60 C960,120 1200,40 1440,80 L1440,120 L0,120 Z"></path>
    </svg>
  </div>

  <!-- 店舗情報 -->
  <section id="about">
    <div class="container info-grid">
      <div class="card">
        <h2>店舗情報</h2>
        <ul>
          <li>住所：<strong>福岡県大野城市下大利1-15-14</strong></li>
          <li>営業時間：<strong>11:00–14:30 / 17:00–23:30</strong>（変更の可能性あり）</li>
          <li>定休日：<strong>不定休</strong>（最新情報はInstagramをご確認ください）</li>
          <li>席数：<strong>カウンター10・テーブル8（計18席）</strong></li>
          <li>支払い：<strong>現金・PayPay（カード不可）</strong></li>
        </ul>
      </div>
      <div class="card">
        <h2>こだわり</h2>
        <p class="lead">担々麺だるまは、赤担々麺・黒担々麺を看板に、辛さは <strong>1〜5</strong> 段階で調整可能。辛さと胡麻のコクをバランスよく仕上げています。</p>
        <ul>
          <li>辛さ：<span class="pill">1〜5</span> まで調整</li>
          <li>麺：中太ストレート</li>
          <li>トッピング：菜の花、肉みそ ほか</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- メニュー -->
  <section id="menu">
    <div class="container">
      <h2>メニュー <span class="note">（税込）</span></h2>

      <!-- おすすめ -->
      <!-- 比較カード：推し3品 -->
      <div class="compare" aria-label="人気3品の比較">
        <!-- 赤の担々麺 -->
        <article class="compare-card">
          <img class="compare-photo" src="img/aka.jpg" alt="赤の担々麺" loading="lazy" decoding="async" width="800" height="600">
          <div class="compare-body">
            <div class="compare-title">
              <h3>赤の担々麺</h3>
              <div class="price-badge">¥1,000</div>
            </div>
            <p class="muted">王道の旨辛。ほろ苦い菜の花トッピング。</p>
            <div class="badges">
              <span class="chip">辛さ 1〜5</span>
              <span class="chip">ごまの香り</span>
            </div>
          </div>
        </article>

        <!-- 黒の担々麺 -->
        <article class="compare-card">
          <img class="compare-photo" src="img/kuro.jpg" alt="黒の担々麺" loading="lazy" decoding="async" width="800" height="600">
          <div class="compare-body">
            <div class="compare-title">
              <h3>黒の担々麺</h3>
              <div class="price-badge">¥1,000</div>
            </div>
            <p class="muted">黒胡麻のコク深さ。麺もスープも黒胡麻使用。</p>
            <div class="badges">
              <span class="chip">辛さ 1〜5</span>
              <span class="chip">黒胡麻リッチ</span>
            </div>
          </div>
        </article>

        <!-- 菜の花ラーメン -->
        <article class="compare-card">
          <img class="compare-photo" src="img/nanohana.jpg" alt="菜の花ラーメン" loading="lazy" decoding="async" width="800" height="600">
          <div class="compare-body">
            <div class="compare-title">
              <h3>菜の花ラーメン</h3>
              <div class="price-badge">¥900</div>
            </div>
            <p class="muted">ほろ苦い菜の花。鶏ガラ醤油のシンプルな旨さ。</p>
            <div class="badges">
              <span class="chip">あっさり</span>
              <span class="chip">辛さなし</span>
              <span class="chip">菜の花</span>
            </div>
          </div>
        </article>
      </div>

      <!-- ふわトロオムライス -->
      <div class="card with-thumb mt-16">
        <img src="img/omuraisu.jpg" alt="ふわトロオムライス" loading="lazy" width="176" height="176"/>
        <p class="muted note-block">創業当時からの王道メニュー！<br><span class="note">※各担々麺・菜の花ラーメンのセットとして注文可能</span></p>
        <dl class="price-list">
          <dt>単品</dt><dd>¥900</dd>
          <dt>セットメニュー【小】</dt><dd>¥1,400</dd>
        </dl>
      </div>

      <!-- セットメニュー -->
      <div class="card mt-16">
        <h3>セットメニュー <span class="note">（各担々麺・菜の花ラーメンに追加）</span></h3>
        <dl class="price-list">
          <dt>オムライス（小）</dt><dd>+¥500</dd>
          <dt>白ご飯（中）</dt><dd>+¥200</dd>
        </dl>
      </div>

      <!-- その他メニュー -->
      <div class="card mt-16">
        <h3>その他</h3>
        <dl class="price-list">
          <dt>各麺 大盛</dt><dd>+¥200</dd>
          <dt>各麺 替玉</dt><dd>+¥200</dd>
        </dl>
      </div>

      <!-- トッピング -->
      <div class="card mt-16">
        <h3>トッピング</h3>
        <p class="note note-block">肉味噌・菜の花は通常量に対して<strong>1.5～2倍</strong>追加します。</p>
        <dl class="price-list">
          <dt>肉味噌多め</dt><dd>+¥200</dd>
          <dt>菜の花多め</dt><dd>+¥200</dd>
          <dt>半熟卵 1個</dt><dd>+¥200</dd>
        </dl>
      </div>

      <!-- 辛味表 -->
      <div class="card mt-16">
        <h3>辛味表 <span class="note">（赤・黒の担々麺のみ調整可能）</span></h3>
        <div class="chili-grid">
          <div class="chili">
            <h4>◆ ひかえめ</h4>
            <p class="muted">辛いのがちょっと苦手な方へ。ちょこっとピリッ…ときます！</p>
          </div>
          <div class="chili">
            <h4>◆ ふつう</h4>
            <p class="muted">ダシとスープの辛さが程よい辛さです！</p>
          </div>
          <div class="chili">
            <h4>◆ ちょいカラ</h4>
            <p class="muted">ふつうよりちょっと辛めに仕上げています！</p>
          </div>
          <div class="chili">
            <h4>◆ カラ</h4>
            <p class="muted">ダシとスープと辛さのバランス絶妙！</p>
          </div>
          <div class="chili">
            <h4>◆ カラ・カラ</h4>
            <p class="muted">辛いの大好きな方、お試しください！！</p>
          </div>
          <div class="chili">
            <h4>◆ カラ・カラ以上</h4>
            <p class="muted">さらに上もございます！スタッフまでお申し出ください！！</p>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- 写真 -->
  <section id="photos">
    <div class="container">
      <h2>写真</h2>
      <p class="lead">店内・料理の雰囲気をご覧ください。</p>
      <div class="photo-grid">
        <img src="img/naisou.jpg" alt="店内カウンター席" loading="lazy" height="600"/>
        <img src="img/gaikan.jpg" alt="店舗外観" loading="lazy" height="600"/>
      </div>
    </div>
  </section>

  <!-- アクセス -->
  <section id="access">
    <div class="container access">
      <div>
        <h2>地図・アクセス</h2>
        <p class="lead">最寄り：<strong>西鉄下大利駅 徒歩1分</strong>。駐車場は店舗横に<strong>1台</strong>ございます（近隣コインPあり）。</p>
        <div class="map-placeholder card" id="mapbox" data-src="https://maps.google.com/maps?q=%E7%A6%8F%E5%B2%A1%E7%9C%8C%E5%A4%A7%E9%87%8E%E5%9F%8E%E5%B8%82%E4%B8%8B%E5%A4%A7%E5%88%A91-15-14&t=&z=17&ie=UTF8&iwloc=&output=embed">
          <p class="lead">地図はクリックで読み込み</p>
          <button class="btn btn-primary" id="loadMap">地図を表示（Googleマップ）</button>
          <p class="muted">※ 外部サイト（maps.google.com）に接続します。</p>
        </div>
        <p class="muted">※ 駐車場は台数に限りがあります。満車時は近隣のコインパーキングをご利用ください。</p>
      </div>
      <div class="card">
        <h2>営業時間</h2>
        <ul>
          <li>毎日：11:00–14:30 / 17:00–23:30</li>
        </ul>
        <h3>連絡先</h3>
        <p>Instagram：<a href="https://www.instagram.com/tantanmendaruma/" target="_blank" rel="noopener">@tantanmendaruma</a><br/>住所：〒816-0952 福岡県大野城市下大利1-15-14</p>
        <div class="contact-actions">
          <a class="btn btn-primary" href="https://www.instagram.com/tantanmendaruma/" target="_blank" rel="noopener">Instagramを見る</a>
          <a class="btn btn-outline" href="https://maps.app.goo.gl/ZutP6vU3qZ4TXF4t7" target="_blank" rel="noopener">Googleマップで開く</a>
        </div>
      </div>
    </div>
  </section>

  <!-- お問い合わせ -->
  <section id="contact">
    <div class="container">
      <h2>お問い合わせ</h2>
      <p class="lead">ご予約は承っておりません。混雑状況などのお問い合わせは、<strong>InstagramのDM</strong> またはご来店時にスタッフまでお声掛けください。</p>
      <div class="card">
        <p>Instagram：<a href="https://www.instagram.com/tantanmendaruma/" target="_blank" rel="noopener">@tantanmendaruma</a></p>
      </div>
    </div>
  </section>

  </main>
  <footer>
    <div class="container">
      <p>© <span id="y"></span> 担々麺だるま — All rights reserved.</p>
      <p><a href="#main" aria-label="ページ上部へ戻る">▲ 上へ戻る</a></p>
    </div>
  </footer>

  <!-- UI extras -->
  <button id="toTop" class="toTop" aria-label="上へ戻る">↑</button>
  <dialog id="lightbox">
    <div class="lightbox-backdrop"></div>
    <img id="lightboxImg" class="lightbox-img" alt="">
  </dialog>

  <script>
  // 年度表示だけJSで自動化
  document.getElementById('y').textContent = new Date().getFullYear();

  // 出現アニメーション（IntersectionObserver）
  const io = new IntersectionObserver((entries, obs)=>{
    entries.forEach(e=>{
      if(e.isIntersecting){
        e.target.classList.add('reveal-in');
        obs.unobserve(e.target);
      }
    });
  },{ threshold: 0.15 });
  document.querySelectorAll('.card, .menu-item, .photo-grid img, .kv, .cta .btn, h2')
    .forEach(el=>{ el.classList.add('reveal-base'); io.observe(el); });

  // スクロールでヘッダー圧縮
  const hdr = document.querySelector('header');
  const onScroll = ()=>{ if(window.scrollY>8) hdr.classList.add('scrolled'); else hdr.classList.remove('scrolled'); };
  onScroll();
  addEventListener('scroll', onScroll, {passive:true});

  // 内部リンク(#)をスムーズスクロール＆モバイルメニューを閉じる
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', e=>{
      const hash = a.getAttribute('href');
      if(!hash || hash === '#') return;
      const target = document.querySelector(hash);
      if(!target) return;
      e.preventDefault();
      target.scrollIntoView({behavior:'smooth', block:'start'});
      const openMenu = document.querySelector('details[role="list"][open]');
      if(openMenu) openMenu.removeAttribute('open');
      history.replaceState(null, '', hash);
    });
  });

  // クリックで地図読み込み（ユーザー操作時のみ外部接続）
  const mapbox = document.getElementById('mapbox');
  const loadBtn = document.getElementById('loadMap');
  if(mapbox && loadBtn){
    loadBtn.addEventListener('click', ()=>{
      const url = mapbox.getAttribute('data-src');
      const iframe = document.createElement('iframe');
      iframe.className = 'map';
      iframe.loading = 'lazy';
      iframe.setAttribute('allowfullscreen','');
      iframe.src = url;
      mapbox.replaceWith(iframe);
    });
  }

  // Scrollspy（現在地ハイライト）
  {
    const ids = ["about","menu","photos","access","contact"];
    const sections = ids.map(id=>document.getElementById(id)).filter(Boolean);
    const linkMap = new Map([...document.querySelectorAll('nav a[href^="#"]')].map(a=>[a.getAttribute('href').slice(1), a]));
    const spy = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(!e.isIntersecting) return;
        const id = e.target.id;
        linkMap.forEach(a=>{ a.classList.remove('active'); a.removeAttribute('aria-current'); });
        const link = linkMap.get(id);
        if(link){ link.classList.add('active'); link.setAttribute('aria-current','page'); }
      });
    },{ rootMargin:"-45% 0px -50% 0px", threshold:0.01 });
    sections.forEach(sec=>spy.observe(sec));
  }

  // ライトボックス（写真拡大）
  {
    const dlg = document.getElementById('lightbox');
    const dlgImg = document.getElementById('lightboxImg');
    if(dlg && dlgImg){
      document.querySelectorAll('#photos .photo-grid img').forEach(img=>{
        img.addEventListener('click', ()=>{ dlgImg.src = img.src; dlgImg.alt = img.alt||""; dlg.showModal(); });
      });
      dlg.addEventListener('click', (e)=>{ if(e.target !== dlgImg) dlg.close(); });
      addEventListener('keydown', (e)=>{ if(e.key==='Escape' && dlg.open) dlg.close(); });
    }
  }

  // 上部へ戻るボタン＆進捗バー＆パララックス
  {
    const prefersReduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
    const toTop = document.getElementById('toTop');
    const progress = document.getElementById('progress');
    const heroImg = document.querySelector('.kv');
    const update = ()=>{
      const doc = document.documentElement;
      const scrolled = doc.scrollTop || window.pageYOffset;
      const height = doc.scrollHeight - doc.clientHeight;
      if(progress){ const ratio = height>0 ? scrolled/height : 0; progress.style.width = (ratio*100)+'%'; }
      if(toTop){ const show = scrolled > 600; toTop.style.opacity = show?1:0; toTop.style.pointerEvents = show?'auto':'none'; }
      if(heroImg && !prefersReduce){ const y = Math.min(20, scrolled*0.05); heroImg.style.transform = `translateY(${y}px)`; }
    };
    update();
    addEventListener('scroll', update, {passive:true});
    if(toTop){ toTop.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'})); }
  }

  // 画像のBlur-up（読み込み後にシャープ）
  {
    const imgs = [
      ...document.querySelectorAll('.kv, #photos .photo-grid img, .menu-item img')
    ];
    imgs.forEach(img=>{
      img.classList.add('blur-up');
      if(img.complete){ img.classList.add('loaded'); }
      else { img.addEventListener('load', ()=> img.classList.add('loaded')); }
    });
  }

  // 派手モード（トグル）
  {
    const key = 'flashy-mode';
    const btn = document.getElementById('toggleFlash');
    function setMode(on){
      document.documentElement.classList.toggle('flashy', !!on);
      document.body.classList.toggle('flashy', !!on);
      if(btn){
        btn.setAttribute('aria-pressed', on ? 'true' : 'false');
        btn.textContent = on ? '派手モード：ON' : '派手モード：OFF';
      }
      localStorage.setItem(key, on ? '1' : '0');
    }
    const saved = localStorage.getItem(key);
    const initial = saved === null ? true : saved === '1'; // 初回はON
    setMode(initial);
    if(btn){ btn.addEventListener('click', ()=> setMode(!document.documentElement.classList.contains('flashy'))); }
  }
  </script>
  <script>
  /* --- Soft Gate (簡易パスワード) --- */
  {
    const ENABLE_GATE = true;
    const STORE_KEY   = 'gate-ok';
    const PASSWORD    = '123';
    const TTL_HOURS   = 0;  // ← 何時間記憶するか

    // URLに ?unlock=… を付けたら自動解除できる裏口（必要なければ削除）
    const url = new URL(location.href);
    if (url.searchParams.get('unlock') === PASSWORD) {
      localStorage.setItem(STORE_KEY, JSON.stringify({ok:1, at:Date.now()}));
      history.replaceState(null,'',location.pathname);
    }

    if (ENABLE_GATE) {
      const gate = document.getElementById('gate');
      const form = document.getElementById('gateForm');
      const pw   = document.getElementById('pw');

      const saved = (()=>{ try{return JSON.parse(localStorage.getItem(STORE_KEY)||'');}catch{return null;} })();
      const fresh = saved && saved.ok===1 && (Date.now() - saved.at) < TTL_HOURS*3600*1000;

      const unlock = () => {
        localStorage.setItem(STORE_KEY, JSON.stringify({ok:1, at:Date.now()}));
        gate.remove();
        document.body.classList.remove('locked');
      };

      if (!fresh) {
        gate.classList.remove('hidden');
        document.body.classList.add('locked');
        pw.focus();
        form.addEventListener('submit', (e)=>{
          e.preventDefault();
          if (pw.value.trim() === PASSWORD) unlock();
          else { alert('パスワードが違います'); pw.value=''; pw.focus(); }
        });
      } else {
        gate.remove();
      }
    }
  }
  </script>

  <script>
  // Post-init tweaks: rel, decoding, currency symbols
  {
    // Ensure external links use noopener noreferrer
    document.querySelectorAll('a[target="_blank"]').forEach(a=>{
      const rel = (a.getAttribute('rel')||'').split(/\s+/).filter(Boolean);
      if(!rel.includes('noopener')) rel.push('noopener');
      if(!rel.includes('noreferrer')) rel.push('noreferrer');
      a.setAttribute('rel', rel.join(' '));
    });

    // Add decoding hint to photos grid images
    document.querySelectorAll('#photos .photo-grid img').forEach(img=>{
      if(!img.hasAttribute('decoding')) img.setAttribute('decoding','async');
    });

    // Normalize currency: leading backslash -> Yen
    const fixYen = (s)=> s
      .replace(/^\\(?=\d)/, '¥')     // \1000 -> ¥1000
      .replace(/^\+\\(?=\d)/, '+¥'); // +\200 -> +¥200
    document.querySelectorAll('.price-badge, .price-list dd').forEach(el=>{
      el.textContent = fixYen(el.textContent.trim());
    });
  }
  </script>

  <script>
  // Post-fix: ensure Yen and label localization (robust)
  {
    // Fix currency symbols in case previous step didn't run as expected
    document.querySelectorAll('.price-badge, .price-list dd').forEach(el=>{
      const t = (el.textContent||'').trim();
      if(t && t.charCodeAt(0) === 92){ // leading backslash
        el.textContent = '¥' + t.slice(1);
      } else if(t && t[0] === '+' && t.charCodeAt(1) === 92){
        el.textContent = '+¥' + t.slice(2);
      }
    });

    // Localize label text
    const pwLabel2 = document.querySelector('label[for="pw"]');
    if(pwLabel2) pwLabel2.textContent = '\u30D1\u30B9\u30EF\u30FC\u30C9';
  }
  </script>

</body>
</html>




